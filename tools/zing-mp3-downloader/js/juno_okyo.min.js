/* Developed by Juno_okyo */
function ucfirst(b){return b.charAt(0).toUpperCase()+b.slice(1)}function qualifyURL(b){var e=document.createElement("a");e.href=b;return e.href}
jQuery(document).ready(function(b){var e=qualifyURL("download.php?f="),h=!1,c=new Clipboard("#exportBtn");b("#panel").smkPanel({hide:"remove"});b("#example").on("click",".exampleURL",function(a){a.preventDefault();b("#url").val(b(this).attr("href")).focus()});b('[data-toggle="tooltip"]').tooltip();c.on("success",function(a){b.smkAlert({text:"All links has been copied!",type:"success",time:3});console.info("Action:",a.action);console.info("Text:",a.text);console.info("Trigger:",a.trigger);a.clearSelection()});
c.on("error",function(a){console.error("Action:",a.action);console.error("Trigger:",a.trigger)});var l=React.createClass({displayName:"Link",download:function(a){a.preventDefault();b("#_downloadFrame").attr("src",this.props.href)},render:function(){var a=this.props.type;if("string"!==typeof a||"lossless"!==a.toLowerCase())a+=" kbps";return React.createElement("a",{onClick:this.download,href:e+this.props.href.split("/")[7],download:this.props.fileName,title:"Click to download this song!"},ucfirst(a))}}),
m=React.createClass({displayName:"DownloadBtn",render:function(){var a=this.props.link,b=[{link:a["128"],type:128,name:this.props.name}];0<a["320"].length&&b.push({link:a["320"],type:320,name:this.props.name});0<a.lossless.length&&b.push({link:a.lossless,type:"lossless",name:this.props.name});return React.createElement("div",{className:"btn-group"},React.createElement("button",{type:"button",className:"btn btn-default dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},
React.createElement("span",{className:"glyphicon glyphicon-download-alt"})," Download ",React.createElement("span",{className:"caret"})),React.createElement("ul",{className:"dropdown-menu"},b.map(function(a,b){return React.createElement("li",null,React.createElement(l,{href:a.link,type:a.type,fileName:a.name}))})))}}),n=React.createClass({displayName:"LyricBtn",readLyric:function(){b.ajax({url:this.props.file,type:"GET",dataType:"text"}).done(function(a){-1<a.indexOf("by:")&&console.log(a)}).fail(function(){console.log("error")}).always(function(){console.log("complete")})},
render:function(){return React.createElement("button",{onClick:this.readLyric,type:"button",className:"btn btn-default","data-toggle":"modal","data-target":"#ModalLyric"},React.createElement("span",{className:"glyphicon glyphicon-eye-open"})," Lyric")}}),p=React.createClass({displayName:"ShareBtn",render:function(){return React.createElement("div",{className:"btn-group"},React.createElement("button",{type:"button",className:"btn btn-default dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true",
"aria-expanded":"false"},React.createElement("span",{className:"glyphicon glyphicon-share-alt"})," Share ",React.createElement("span",{className:"caret"})),React.createElement("ul",{className:"dropdown-menu"},React.createElement("li",null,React.createElement("a",{href:""},"Facebook")),React.createElement("li",null,React.createElement("a",{href:""},"Twitter"))))}});React.createClass({displayName:"TableData",render:function(){return React.createElement("td",null,this.props.data)}});var q=React.createClass({displayName:"TableRow",
render:function(){var a=this.props.data;return React.createElement("tr",null,React.createElement("td",null,React.createElement("a",{href:"http://mp3.zing.vn"+a.link,target:"_blank",title:a.title},a.title)),React.createElement("td",null,a.artist),React.createElement("td",null,React.createElement(m,{link:a.source,name:a.title+" - "+a.artist})," ",React.createElement(p,null)," ",React.createElement(n,{file:a.lyrics_file})))}}),r=React.createClass({displayName:"Table",render:function(){return React.createElement("table",
{className:"table table-bordered table-hover table-striped"},React.createElement("thead",{className:"text-info"},React.createElement("tr",null,React.createElement("th",null,React.createElement("span",{className:"glyphicon glyphicon-music"})," Song"),React.createElement("th",null,React.createElement("span",{className:"glyphicon glyphicon-user"})," Artist"),React.createElement("th",null,React.createElement("span",{className:"glyphicon glyphicon-cog"})," Action"))),React.createElement("tbody",null,this.props.data.map(function(a){return React.createElement(q,
{key:a.id,data:a})})))}});window.get_link=function(){var a=b("#url").val();if(a){var c=b("#submitBtn");c.button("loading");b.ajax({url:"ajax.php",type:"POST",dataType:"json",data:{u:a}}).done(function(d){var c=b("#exportBtn");h||(h=!0,c.removeClass("hidden"));if(d.success){var k=a.split("/")[3];d="bai-hat"===k?d.data:d.data.docs;var f=[];switch(k){case "bai-hat":f.push(d);break;case "album":case "playlist":b.each(d,function(a,b){f.push(b)})}React.render(React.createElement(r,{data:f}),document.getElementById("queue-container"),
function(){b(window).scrollTo(b("#queue-container"),800)});var g="";b.each(f,function(a,b){var c=b.source["320"];0===c.length&&(c=b.source["320"],0===c.length&&(c=b.source["128"]));g+=e+c.split("/")[7]+"\n"});c.attr("data-clipboard-text",g)}}).fail(function(){console.log("error")}).always(function(){c.button("reset")})}}});